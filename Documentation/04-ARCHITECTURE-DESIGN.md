# Architecture Design: LinuxGit

## 1. System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              LinuxGit Application                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      PRESENTATION LAYER                              â”‚   â”‚
â”‚  â”‚                     (React + TypeScript)                             â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚   Views      â”‚ â”‚  Components  â”‚ â”‚    Hooks     â”‚ â”‚   Stores   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚              â”‚ â”‚              â”‚ â”‚              â”‚ â”‚  (Zustand) â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - Dashboard  â”‚ â”‚ - CommitGraphâ”‚ â”‚ - useGit     â”‚ â”‚            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - Changes    â”‚ â”‚ - DiffViewer â”‚ â”‚ - useRepo    â”‚ â”‚ - repoStoreâ”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - History    â”‚ â”‚ - BranchTree â”‚ â”‚ - useAuth    â”‚ â”‚ - uiStore  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - Branches   â”‚ â”‚ - MergeEditorâ”‚ â”‚ - useAI      â”‚ â”‚ - settings â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - Settings   â”‚ â”‚ - FileTree   â”‚ â”‚ - usePlatformâ”‚ â”‚            â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                        â”‚
â”‚                                    â”‚ Tauri IPC (invoke/events)              â”‚
â”‚                                    â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                       APPLICATION LAYER                              â”‚   â”‚
â”‚  â”‚                          (Rust/Tauri)                                â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚   Commands   â”‚ â”‚    Events    â”‚ â”‚    State     â”‚ â”‚   Plugins  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚              â”‚ â”‚              â”‚ â”‚   Manager    â”‚ â”‚            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - git_*      â”‚ â”‚ - repo_event â”‚ â”‚              â”‚ â”‚ - fs       â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - auth_*     â”‚ â”‚ - file_watch â”‚ â”‚ - AppState   â”‚ â”‚ - http     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - platform_* â”‚ â”‚ - progress   â”‚ â”‚ - RepoCache  â”‚ â”‚ - store    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - ai_*       â”‚ â”‚ - notify     â”‚ â”‚              â”‚ â”‚ - dialog   â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                        â”‚
â”‚                                    â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        SERVICE LAYER                                 â”‚   â”‚
â”‚  â”‚                          (Rust)                                      â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ GitService â”‚ â”‚ AuthServiceâ”‚ â”‚ AIService  â”‚ â”‚ PlatformService  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚            â”‚ â”‚            â”‚ â”‚            â”‚ â”‚                  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - git2-rs  â”‚ â”‚ - OAuth    â”‚ â”‚ - OpenAI   â”‚ â”‚ - GitHub API     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ - CLI exec â”‚ â”‚ - SSH      â”‚ â”‚ - Claude   â”‚ â”‚ - GitLab API     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚            â”‚ â”‚ - Keychain â”‚ â”‚ - Ollama   â”‚ â”‚ - Gitea API      â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           EXTERNAL SYSTEMS                                   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    Git     â”‚ â”‚   GitHub   â”‚ â”‚   GitLab   â”‚ â”‚   Gitea    â”‚ â”‚    AI    â”‚  â”‚
â”‚  â”‚ Repository â”‚ â”‚    API     â”‚ â”‚    API     â”‚ â”‚    API     â”‚ â”‚ Providersâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Directory Structure

```
linuxgit/
â”œâ”€â”€ src/                           # React Frontend
â”‚   â”œâ”€â”€ App.tsx                    # Root component
â”‚   â”œâ”€â”€ main.tsx                   # Entry point
â”‚   â”œâ”€â”€ index.css                  # Global styles
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                # React components
â”‚   â”‚   â”œâ”€â”€ ui/                    # Base UI (shadcn)
â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layout/                # Layout components
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MainContent.tsx
â”‚   â”‚   â”‚   â””â”€â”€ StatusBar.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ git/                   # Git-specific components
â”‚   â”‚   â”‚   â”œâ”€â”€ CommitGraph/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CommitNode.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BranchLine.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ DiffViewer/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SplitView.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UnifiedView.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ HunkView.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MergeEditor/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ThreeWayMerge.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ConflictMarker.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ BranchTree/
â”‚   â”‚   â”‚   â”œâ”€â”€ FileTree/
â”‚   â”‚   â”‚   â”œâ”€â”€ CommitForm/
â”‚   â”‚   â”‚   â””â”€â”€ StashList/
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ common/                # Shared components
â”‚   â”‚       â”œâ”€â”€ CommandPalette.tsx
â”‚   â”‚       â”œâ”€â”€ LoadingSpinner.tsx
â”‚   â”‚       â”œâ”€â”€ ErrorBoundary.tsx
â”‚   â”‚       â””â”€â”€ Toast.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ views/                     # Page-level components
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚   â”‚   â”œâ”€â”€ Changes.tsx
â”‚   â”‚   â”œâ”€â”€ History.tsx
â”‚   â”‚   â”œâ”€â”€ Branches.tsx
â”‚   â”‚   â”œâ”€â”€ Remotes.tsx
â”‚   â”‚   â”œâ”€â”€ Settings.tsx
â”‚   â”‚   â””â”€â”€ Welcome.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                     # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ useGit.ts              # Git operations
â”‚   â”‚   â”œâ”€â”€ useRepo.ts             # Repository state
â”‚   â”‚   â”œâ”€â”€ useAuth.ts             # Authentication
â”‚   â”‚   â”œâ”€â”€ useAI.ts               # AI features
â”‚   â”‚   â”œâ”€â”€ usePlatform.ts         # GitHub/GitLab
â”‚   â”‚   â”œâ”€â”€ useFileWatcher.ts      # File changes
â”‚   â”‚   â”œâ”€â”€ useKeyboard.ts         # Keyboard shortcuts
â”‚   â”‚   â””â”€â”€ useTheme.ts            # Theme management
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                    # Zustand state stores
â”‚   â”‚   â”œâ”€â”€ repoStore.ts           # Repository state
â”‚   â”‚   â”œâ”€â”€ uiStore.ts             # UI state
â”‚   â”‚   â”œâ”€â”€ settingsStore.ts       # User settings
â”‚   â”‚   â””â”€â”€ authStore.ts           # Auth state
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                  # Frontend services
â”‚   â”‚   â”œâ”€â”€ tauri.ts               # Tauri IPC wrapper
â”‚   â”‚   â”œâ”€â”€ git.ts                 # Git commands
â”‚   â”‚   â”œâ”€â”€ github.ts              # GitHub API
â”‚   â”‚   â”œâ”€â”€ gitlab.ts              # GitLab API
â”‚   â”‚   â””â”€â”€ ai.ts                  # AI providers
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                     # TypeScript types
â”‚   â”‚   â”œâ”€â”€ git.ts
â”‚   â”‚   â”œâ”€â”€ repo.ts
â”‚   â”‚   â”œâ”€â”€ platform.ts
â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                     # Utility functions
â”‚   â”‚   â”œâ”€â”€ format.ts
â”‚   â”‚   â”œâ”€â”€ diff.ts
â”‚   â”‚   â””â”€â”€ date.ts
â”‚   â”‚
â”‚   â””â”€â”€ lib/                       # Shared libraries
â”‚       â””â”€â”€ utils.ts               # shadcn utils
â”‚
â”œâ”€â”€ src-tauri/                     # Rust Backend
â”‚   â”œâ”€â”€ Cargo.toml                 # Rust dependencies
â”‚   â”œâ”€â”€ tauri.conf.json            # Tauri configuration
â”‚   â”œâ”€â”€ build.rs                   # Build script
â”‚   â”œâ”€â”€ icons/                     # App icons
â”‚   â”‚
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main.rs                # Entry point
â”‚       â”œâ”€â”€ lib.rs                 # Library root
â”‚       â”‚
â”‚       â”œâ”€â”€ commands/              # Tauri commands
â”‚       â”‚   â”œâ”€â”€ mod.rs
â”‚       â”‚   â”œâ”€â”€ git.rs             # Git commands
â”‚       â”‚   â”œâ”€â”€ auth.rs            # Auth commands
â”‚       â”‚   â”œâ”€â”€ platform.rs        # Platform commands
â”‚       â”‚   â””â”€â”€ ai.rs              # AI commands
â”‚       â”‚
â”‚       â”œâ”€â”€ git/                   # Git service
â”‚       â”‚   â”œâ”€â”€ mod.rs
â”‚       â”‚   â”œâ”€â”€ repository.rs      # Repo operations
â”‚       â”‚   â”œâ”€â”€ branch.rs          # Branch operations
â”‚       â”‚   â”œâ”€â”€ commit.rs          # Commit operations
â”‚       â”‚   â”œâ”€â”€ diff.rs            # Diff generation
â”‚       â”‚   â”œâ”€â”€ merge.rs           # Merge operations
â”‚       â”‚   â”œâ”€â”€ stash.rs           # Stash operations
â”‚       â”‚   â”œâ”€â”€ remote.rs          # Remote operations
â”‚       â”‚   â””â”€â”€ history.rs         # History parsing
â”‚       â”‚
â”‚       â”œâ”€â”€ auth/                  # Authentication
â”‚       â”‚   â”œâ”€â”€ mod.rs
â”‚       â”‚   â”œâ”€â”€ credential.rs      # Credential manager
â”‚       â”‚   â”œâ”€â”€ ssh.rs             # SSH key handling
â”‚       â”‚   â”œâ”€â”€ oauth.rs           # OAuth flow
â”‚       â”‚   â””â”€â”€ keychain.rs        # OS keychain
â”‚       â”‚
â”‚       â”œâ”€â”€ platform/              # Platform integrations
â”‚       â”‚   â”œâ”€â”€ mod.rs
â”‚       â”‚   â”œâ”€â”€ github.rs          # GitHub API
â”‚       â”‚   â”œâ”€â”€ gitlab.rs          # GitLab API
â”‚       â”‚   â”œâ”€â”€ gitea.rs           # Gitea API
â”‚       â”‚   â””â”€â”€ types.rs           # Shared types
â”‚       â”‚
â”‚       â”œâ”€â”€ ai/                    # AI services
â”‚       â”‚   â”œâ”€â”€ mod.rs
â”‚       â”‚   â”œâ”€â”€ provider.rs        # Provider trait
â”‚       â”‚   â”œâ”€â”€ openai.rs          # OpenAI provider
â”‚       â”‚   â”œâ”€â”€ claude.rs          # Claude provider
â”‚       â”‚   â”œâ”€â”€ ollama.rs          # Ollama provider
â”‚       â”‚   â””â”€â”€ prompts.rs         # AI prompts
â”‚       â”‚
â”‚       â”œâ”€â”€ state/                 # Application state
â”‚       â”‚   â”œâ”€â”€ mod.rs
â”‚       â”‚   â””â”€â”€ app_state.rs       # Global state
â”‚       â”‚
â”‚       â”œâ”€â”€ watcher/               # File watching
â”‚       â”‚   â”œâ”€â”€ mod.rs
â”‚       â”‚   â””â”€â”€ file_watcher.rs
â”‚       â”‚
â”‚       â””â”€â”€ utils/                 # Utilities
â”‚           â”œâ”€â”€ mod.rs
â”‚           â””â”€â”€ error.rs           # Error types
â”‚
â”œâ”€â”€ tests/                         # Test files
â”‚   â”œâ”€â”€ e2e/                       # End-to-end tests
â”‚   â””â”€â”€ integration/               # Integration tests
â”‚
â”œâ”€â”€ scripts/                       # Build scripts
â”‚   â”œâ”€â”€ build-appimage.sh
â”‚   â”œâ”€â”€ build-flatpak.sh
â”‚   â””â”€â”€ build-deb.sh
â”‚
â”œâ”€â”€ .github/                       # GitHub workflows
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ ci.yml
â”‚       â”œâ”€â”€ release.yml
â”‚       â””â”€â”€ test.yml
â”‚
â”œâ”€â”€ package.json                   # Node dependencies
â”œâ”€â”€ pnpm-lock.yaml                 # Lock file
â”œâ”€â”€ vite.config.ts                 # Vite config
â”œâ”€â”€ tsconfig.json                  # TypeScript config
â”œâ”€â”€ tailwind.config.js             # Tailwind config
â”œâ”€â”€ postcss.config.js              # PostCSS config
â”œâ”€â”€ LICENSE                        # License file
â””â”€â”€ README.md                      # Documentation
```

---

## 3. Component Architecture

### 3.1 Main Application Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Header Bar                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [â‰¡] LinuxGit    [â†™ Pull] [â†— Push]  [main â–¼]   [ğŸ” Search]  [âš™]  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Sidebar      â”‚                    Main Content                        â”‚
â”‚                â”‚                                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Workspace  â”‚ â”‚  â”‚                                                  â”‚  â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-â”‚ â”‚  â”‚                                                  â”‚  â”‚
â”‚ â”‚ ğŸ“ Changes â”‚ â”‚  â”‚                                                  â”‚  â”‚
â”‚ â”‚ ğŸ“œ History â”‚ â”‚  â”‚              View-specific Content               â”‚  â”‚
â”‚ â”‚ â‡  Branchesâ”‚ â”‚  â”‚                                                  â”‚  â”‚
â”‚ â”‚ â˜  Remotes â”‚ â”‚  â”‚       (Changes / History / Branches / etc)       â”‚  â”‚
â”‚ â”‚            â”‚ â”‚  â”‚                                                  â”‚  â”‚
â”‚ â”‚ Recent     â”‚ â”‚  â”‚                                                  â”‚  â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-â”‚ â”‚  â”‚                                                  â”‚  â”‚
â”‚ â”‚ ğŸ“‚ repo-1  â”‚ â”‚  â”‚                                                  â”‚  â”‚
â”‚ â”‚ ğŸ“‚ repo-2  â”‚ â”‚  â”‚                                                  â”‚  â”‚
â”‚ â”‚ ğŸ“‚ repo-3  â”‚ â”‚  â”‚                                                  â”‚  â”‚
â”‚ â”‚            â”‚ â”‚  â”‚                                                  â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                â”‚                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              Status Bar                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ main â†‘1 â†“2  â”‚  Last fetch: 5m ago  â”‚  â— 3 changes  â”‚  LFS: âœ“    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Changes View

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Changes                                                    [â†» Refresh] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Staged Changes (2)         â”‚                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚          Diff Viewer                      â”‚
â”‚  â˜‘ M src/App.tsx           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â˜‘ A src/new-file.ts       â”‚  â”‚ src/App.tsx                         â”‚   â”‚
â”‚                             â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  Unstaged Changes (3)       â”‚  â”‚  1   import React from 'react';     â”‚   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚  2 - import { old } from './old';   â”‚   â”‚
â”‚  â˜ M src/index.css         â”‚  â”‚  2 + import { new } from './new';   â”‚   â”‚
â”‚  â˜ M package.json          â”‚  â”‚  3                                   â”‚   â”‚
â”‚  â˜ ? .env.local            â”‚  â”‚  4   function App() {                â”‚   â”‚
â”‚                             â”‚  â”‚  ...                                 â”‚   â”‚
â”‚  [Stage All] [Discard All]  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Commit Message                                          [ğŸ¤– Generate]  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ feat: add new functionality                                       â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚ - Added new-file.ts with feature X                               â”‚   â”‚
â”‚  â”‚ - Updated App.tsx to use new module                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  [â˜ Amend] [â˜ Sign]                                    [Commit â]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 History View

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  History                                  [ğŸ” Filter] [Branch: all â–¼]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â—â”€â”€â— main, origin/main                                                 â”‚
â”‚  â”‚ â”œâ”€ abc1234  feat: add user auth          John    2 hours ago        â”‚
â”‚  â”‚ â”‚                                                                    â”‚
â”‚  â—â”€â”¤                                                                    â”‚
â”‚  â”‚ â”œâ”€ def5678  fix: resolve login bug       Jane    5 hours ago        â”‚
â”‚  â”‚ â”‚                                                                    â”‚
â”‚  â”‚ â—  feature/api                                                       â”‚
â”‚  â”‚ â”œâ”€ ghi9012  wip: api integration         John    1 day ago          â”‚
â”‚  â”‚ â”‚                                                                    â”‚
â”‚  â—â”€â”˜                                                                    â”‚
â”‚  â”œâ”€ jkl3456  refactor: clean up utils       Jane    2 days ago         â”‚
â”‚  â”‚                                                                      â”‚
â”‚  â—                                                                      â”‚
â”‚  â”œâ”€ mno7890  chore: update deps             John    3 days ago         â”‚
â”‚                                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Commit Details: abc1234                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  feat: add user authentication                                          â”‚
â”‚                                                                         â”‚
â”‚  Author: John Doe <john@example.com>                                    â”‚
â”‚  Date: 2 hours ago (2025-01-04 10:30:00)                               â”‚
â”‚                                                                         â”‚
â”‚  Files changed: 5  Insertions: +150  Deletions: -20                    â”‚
â”‚                                                                         â”‚
â”‚  [View Diff] [Cherry-pick] [Revert] [Create Branch]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Data Flow Architecture

### 4.1 Unidirectional Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           USER ACTION                                â”‚
â”‚                    (click, type, keyboard shortcut)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         REACT COMPONENT                              â”‚
â”‚                       (dispatch action)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ZUSTAND STORE                                â”‚
â”‚                    (update local state)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       SERVICE (git.ts)                               â”‚
â”‚                  (call Tauri command)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TAURI COMMAND (Rust)                              â”‚
â”‚                 (execute git operation)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      GIT REPOSITORY                                  â”‚
â”‚                  (file system / remote)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       RESULT / ERROR                                 â”‚
â”‚                    (return to frontend)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ZUSTAND STORE                                â”‚
â”‚                   (update with result)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        UI RE-RENDER                                  â”‚
â”‚                    (show new state)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Event-Based Updates

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   File Watcher     â”‚â”€â”€â”€â”€â–¶â”‚   Tauri Events     â”‚â”€â”€â”€â”€â–¶â”‚   React State    â”‚
â”‚   (Rust: notify)   â”‚     â”‚   (emit to JS)     â”‚     â”‚   (auto-refresh) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Events:
- file_changed      â†’ Refresh file status
- repo_changed      â†’ Refresh repository state
- branch_changed    â†’ Update branch list
- remote_updated    â†’ Refresh remote info
- operation_progress â†’ Update progress bar
```

---

## 5. State Management

### 5.1 Zustand Store Structure

```typescript
// stores/repoStore.ts
interface RepoState {
  // Current repository
  currentRepo: Repository | null;
  isLoading: boolean;
  error: Error | null;

  // File status
  stagedFiles: FileStatus[];
  unstagedFiles: FileStatus[];
  untrackedFiles: FileStatus[];

  // Branches
  branches: Branch[];
  currentBranch: Branch | null;
  remoteBranches: Branch[];

  // Commits
  commits: Commit[];
  selectedCommit: Commit | null;

  // Actions
  openRepository: (path: string) => Promise<void>;
  refreshStatus: () => Promise<void>;
  stageFile: (path: string) => Promise<void>;
  unstageFile: (path: string) => Promise<void>;
  commit: (message: string, options?: CommitOptions) => Promise<void>;
  // ... more actions
}

// stores/uiStore.ts
interface UIState {
  sidebarCollapsed: boolean;
  activeView: 'changes' | 'history' | 'branches' | 'remotes' | 'settings';
  diffViewMode: 'split' | 'unified';
  showCommandPalette: boolean;
  notifications: Notification[];
  // ... UI state
}

// stores/settingsStore.ts
interface SettingsState {
  theme: 'light' | 'dark' | 'system';
  fontSize: number;
  gitConfig: GitConfig;
  aiProvider: AIProviderConfig;
  // ... settings
}
```

---

## 6. API Design

### 6.1 Tauri Command Interface

```rust
// src-tauri/src/commands/git.rs

#[tauri::command]
pub async fn open_repository(path: String) -> Result<Repository, AppError> {
    git::repository::open(&path).await
}

#[tauri::command]
pub async fn get_status(repo_path: String) -> Result<RepoStatus, AppError> {
    git::repository::get_status(&repo_path).await
}

#[tauri::command]
pub async fn stage_files(repo_path: String, paths: Vec<String>) -> Result<(), AppError> {
    git::commit::stage_files(&repo_path, &paths).await
}

#[tauri::command]
pub async fn commit(
    repo_path: String,
    message: String,
    options: CommitOptions
) -> Result<CommitResult, AppError> {
    git::commit::create_commit(&repo_path, &message, &options).await
}

#[tauri::command]
pub async fn push(
    repo_path: String,
    remote: String,
    branch: String,
    options: PushOptions
) -> Result<(), AppError> {
    git::remote::push(&repo_path, &remote, &branch, &options).await
}
```

### 6.2 Frontend Service Layer

```typescript
// services/git.ts
import { invoke } from '@tauri-apps/api/core';

export const gitService = {
  async openRepository(path: string): Promise<Repository> {
    return invoke('open_repository', { path });
  },

  async getStatus(repoPath: string): Promise<RepoStatus> {
    return invoke('get_status', { repoPath });
  },

  async stageFiles(repoPath: string, paths: string[]): Promise<void> {
    return invoke('stage_files', { repoPath, paths });
  },

  async commit(repoPath: string, message: string, options?: CommitOptions): Promise<CommitResult> {
    return invoke('commit', { repoPath, message, options: options ?? {} });
  },

  async push(repoPath: string, remote: string, branch: string, options?: PushOptions): Promise<void> {
    return invoke('push', { repoPath, remote, branch, options: options ?? {} });
  },
};
```

---

## 7. Security Architecture

### 7.1 Credential Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Credential Flow                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. User initiates auth request
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (React)                              â”‚
â”‚   - Shows auth dialog                                                â”‚
â”‚   - Collects credential type selection                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Tauri Backend                                â”‚
â”‚   - Validates request                                                â”‚
â”‚   - Routes to appropriate auth handler                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SSH Agent   â”‚  â”‚ OS Keychain â”‚  â”‚ OAuth Flow  â”‚  â”‚ GPG Agent   â”‚
â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚
â”‚ - GNOME     â”‚  â”‚ - libsecret â”‚  â”‚ - GitHub    â”‚  â”‚ - Commit    â”‚
â”‚ - KDE       â”‚  â”‚ - DBUS      â”‚  â”‚ - GitLab    â”‚  â”‚   Signing   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 Security Principles

1. **No credential storage in app** - Use OS keychain only
2. **Memory protection** - Clear sensitive data after use
3. **IPC validation** - Validate all commands from frontend
4. **Sandboxing** - Tauri's capability system
5. **Minimal permissions** - Request only needed access

---

## 8. Performance Optimization

### 8.1 Large Repository Handling

```rust
// Streaming approach for large histories
pub async fn get_commit_history(
    repo_path: &str,
    options: HistoryOptions
) -> impl Stream<Item = Commit> {
    stream! {
        let repo = Repository::open(repo_path)?;
        let mut revwalk = repo.revwalk()?;
        revwalk.push_head()?;

        for oid in revwalk.take(options.limit.unwrap_or(1000)) {
            let oid = oid?;
            let commit = repo.find_commit(oid)?;
            yield Commit::from(commit);
        }
    }
}
```

### 8.2 UI Virtualization

```typescript
// Virtual list for commit history
import { useVirtualizer } from '@tanstack/react-virtual';

function CommitList({ commits }: { commits: Commit[] }) {
  const parentRef = useRef<HTMLDivElement>(null);

  const virtualizer = useVirtualizer({
    count: commits.length,
    getScrollElement: () => parentRef.current,
    estimateSize: () => 60,
    overscan: 10,
  });

  return (
    <div ref={parentRef} style={{ height: '100%', overflow: 'auto' }}>
      <div style={{ height: `${virtualizer.getTotalSize()}px` }}>
        {virtualizer.getVirtualItems().map((virtualItem) => (
          <CommitRow key={virtualItem.key} commit={commits[virtualItem.index]} />
        ))}
      </div>
    </div>
  );
}
```

---

## 9. Testing Strategy

### 9.1 Testing Layers

| Layer | Type | Tools |
|-------|------|-------|
| Rust Backend | Unit | `cargo test` |
| Rust Backend | Integration | `cargo test` + temp repos |
| Frontend | Unit | Vitest |
| Frontend | Component | React Testing Library |
| E2E | Integration | Playwright / WebdriverIO |

### 9.2 Git Test Fixtures

```rust
// tests/fixtures/mod.rs
pub fn create_test_repo() -> TempRepo {
    let temp_dir = tempdir().unwrap();
    let repo = Repository::init(&temp_dir).unwrap();

    // Create initial commit
    let sig = Signature::now("Test", "test@example.com").unwrap();
    // ... setup repo

    TempRepo { dir: temp_dir, repo }
}
```

---

## 10. Deployment Architecture

### 10.1 CI/CD Pipeline

```yaml
# .github/workflows/release.yml
name: Release

on:
  push:
    tags:
      - 'v*'

jobs:
  build-linux:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup Node
        uses: actions/setup-node@v4
      - name: Setup Rust
        uses: dtolnay/rust-toolchain@stable
      - name: Install dependencies
        run: |
          sudo apt-get update
          sudo apt-get install -y libwebkit2gtk-4.1-dev ...
      - name: Build
        run: pnpm tauri build
      - name: Create AppImage
        run: ./scripts/build-appimage.sh
      - name: Upload artifacts
        uses: actions/upload-artifact@v4
```

### 10.2 Release Channels

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Release Channels                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  Development  â”€â”€â–¶  Beta  â”€â”€â–¶  Stable                               â”‚
â”‚                                                                     â”‚
â”‚  - Every commit     - Weekly          - Monthly                     â”‚
â”‚  - Auto-deploy      - Opt-in          - Default                     â”‚
â”‚  - Unstable         - Testing         - Production-ready            â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 11. Integration Architecture

### 11.1 Deep Linking / Protocol Handler

```
Protocol Registration:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Deep Linking Flow                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  1. URL Trigger                                                     â”‚
â”‚     linuxgit://open?repo=/home/user/project                        â”‚
â”‚           â”‚                                                         â”‚
â”‚           â–¼                                                         â”‚
â”‚  2. OS Protocol Handler                                             â”‚
â”‚     [Linux: .desktop file / xdg-mime]                              â”‚
â”‚     [Windows: Registry]                                             â”‚
â”‚     [macOS: Info.plist]                                             â”‚
â”‚           â”‚                                                         â”‚
â”‚           â–¼                                                         â”‚
â”‚  3. Tauri Deep Link Plugin                                          â”‚
â”‚     tauri-plugin-deep-link                                          â”‚
â”‚           â”‚                                                         â”‚
â”‚           â–¼                                                         â”‚
â”‚  4. Single Instance Check                                           â”‚
â”‚     [If running: Send to existing instance via IPC]                â”‚
â”‚     [If not: Launch new instance]                                   â”‚
â”‚           â”‚                                                         â”‚
â”‚           â–¼                                                         â”‚
â”‚  5. URL Router                                                      â”‚
â”‚     Parse URL â†’ Route to handler                                   â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Supported URL Patterns:
- linuxgit://open?repo=/path/to/repo
- linuxgit://clone?url=https://github.com/user/repo
- linuxgit://commit?repo=/path&sha=abc1234
- linuxgit://branch?repo=/path&name=feature/x
- linuxgit://pr?platform=github&owner=user&repo=repo&number=123
- linuxgit://auth/callback?code=...&state=...

Rust Implementation:
```rust
use tauri_plugin_deep_link::DeepLinkExt;

fn main() {
    tauri::Builder::default()
        .plugin(tauri_plugin_deep_link::init())
        .plugin(tauri_plugin_single_instance::init(|app, args, _cwd| {
            // Handle deep link when app is already running
            if let Some(url) = args.get(1) {
                handle_deep_link(app, url);
            }
        }))
        .setup(|app| {
            app.deep_link().on_open_url(|event| {
                handle_deep_link(&event.app_handle(), &event.urls()[0]);
            });

            // Register protocols at runtime (Linux/Windows only)
            #[cfg(any(target_os = "linux", target_os = "windows"))]
            app.deep_link().register_all()?;

            Ok(())
        })
        .run(tauri::generate_context!())
}
```

Tauri Configuration:
```json
{
  "plugins": {
    "deep-link": {
      "desktop": {
        "schemes": ["linuxgit", "git-client"]
      }
    }
  }
}
```
```

### 11.2 Plugin System Architecture

```
Plugin Architecture:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Plugin System                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  AI Provider    â”‚    â”‚    Platform     â”‚    â”‚     Theme       â”‚ â”‚
â”‚  â”‚    Plugin       â”‚    â”‚    Plugin       â”‚    â”‚    Plugin       â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ - OpenAI        â”‚    â”‚ - Bitbucket     â”‚    â”‚ - Dracula       â”‚ â”‚
â”‚  â”‚ - Anthropic     â”‚    â”‚ - Azure DevOps  â”‚    â”‚ - Nord          â”‚ â”‚
â”‚  â”‚ - Groq          â”‚    â”‚ - Custom Git    â”‚    â”‚ - Custom        â”‚ â”‚
â”‚  â”‚ - Local LLM     â”‚    â”‚   Servers       â”‚    â”‚                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                    â”‚                       â”‚           â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     Plugin Manager                           â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  - Plugin discovery & loading                                â”‚   â”‚
â”‚  â”‚  - Permission management                                     â”‚   â”‚
â”‚  â”‚  - Lifecycle management (init, update, unload)              â”‚   â”‚
â”‚  â”‚  - Configuration storage                                     â”‚   â”‚
â”‚  â”‚  - Event bus subscription                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                    â”‚
â”‚                                â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      Plugin API                              â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  Hooks:                    Commands:                         â”‚   â”‚
â”‚  â”‚  - beforeCommit           - registerCommand                  â”‚   â”‚
â”‚  â”‚  - afterCommit            - registerView                     â”‚   â”‚
â”‚  â”‚  - beforePush             - registerSettings                 â”‚   â”‚
â”‚  â”‚  - onBranchChange         - showNotification                 â”‚   â”‚
â”‚  â”‚  - onFileChange           - openDialog                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Plugin Manifest (plugin.json):
```json
{
  "name": "azure-devops",
  "version": "1.0.0",
  "displayName": "Azure DevOps Integration",
  "description": "Adds Azure DevOps support",
  "author": "LinuxGit Community",
  "type": "platform",
  "entry": {
    "rust": "src/lib.rs",
    "frontend": "dist/index.js"
  },
  "permissions": [
    "network:*",
    "storage:plugin-data",
    "git:read"
  ],
  "settings": [
    {
      "key": "organizationUrl",
      "type": "string",
      "label": "Organization URL"
    }
  ]
}
```
```

### 11.3 Browser Extension Integration

```
Browser Extension Architecture:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Browser Extension (Optional)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  Content Script                              â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  - Detects GitHub/GitLab/Gitea pages                        â”‚   â”‚
â”‚  â”‚  - Injects "Open in LinuxGit" button                        â”‚   â”‚
â”‚  â”‚  - Extracts repository URL / PR number                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                    â”‚
â”‚                                â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  Background Script                           â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  - Constructs deep link URL                                  â”‚   â”‚
â”‚  â”‚  - Opens linuxgit:// protocol                                â”‚   â”‚
â”‚  â”‚  - Fallback: Show installation prompt                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚  Button Injection Points:                                           â”‚
â”‚  - GitHub: Repository page (clone button area)                     â”‚
â”‚  - GitHub: PR page (open locally)                                  â”‚
â”‚  - GitLab: Clone dropdown                                           â”‚
â”‚  - Gitea: Repository header                                         â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 12. Offline-First Architecture

```
Offline-First Data Flow:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Offline-First Strategy                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   User      â”‚     â”‚   Local     â”‚     â”‚    Remote API       â”‚   â”‚
â”‚  â”‚   Action    â”‚â”€â”€â”€â”€â–¶â”‚   Storage   â”‚â”€â”€â”€â”€â–¶â”‚    (when online)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚                       â”‚               â”‚
â”‚                             â”‚                       â”‚               â”‚
â”‚                             â–¼                       â–¼               â”‚
â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                      â”‚    Sync     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   Conflict  â”‚       â”‚
â”‚                      â”‚   Queue     â”‚         â”‚  Resolution â”‚       â”‚
â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                     â”‚
â”‚  Storage Layers:                                                    â”‚
â”‚  â”œâ”€â”€ SQLite: User settings, PR cache, repo metadata                â”‚
â”‚  â”œâ”€â”€ File System: Git repository, LFS objects                     â”‚
â”‚  â””â”€â”€ Memory: Active session state, undo stack                     â”‚
â”‚                                                                     â”‚
â”‚  Sync Strategy:                                                     â”‚
â”‚  â”œâ”€â”€ Settings: Last Writer Wins                                     â”‚
â”‚  â”œâ”€â”€ PR Drafts: Merge with user conflict resolution                â”‚
â”‚  â”œâ”€â”€ Platform Data: Delta sync (modified since timestamp)         â”‚
â”‚  â””â”€â”€ Retry: Exponential backoff with jitter                       â”‚
â”‚                                                                     â”‚
â”‚  Network Status:                                                    â”‚
â”‚  â”œâ”€â”€ Online indicator in status bar                                â”‚
â”‚  â”œâ”€â”€ Pending operations count                                       â”‚
â”‚  â””â”€â”€ Manual sync trigger button                                     â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
